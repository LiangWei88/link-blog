<h1 id="wordpress-迁移后遇到的问题及解决方案">WordPress 迁移后遇到的问题及解决方案<a aria-hidden="true" class="anchor-heading icon-link" href="#wordpress-迁移后遇到的问题及解决方案"></a></h1>
<h2 id="概述">概述<a aria-hidden="true" class="anchor-heading icon-link" href="#概述"></a></h2>
<p>在将WordPress网站迁移到新的服务器之后，您可能会遇到一些问题，比如后台媒体库中没有显示已上传的图片，以及无法选择页面模板。这些问题虽然表现形式不同，但可能源自同一个根本原因。本文将探讨这一问题，并提供一个有效的解决方法。</p>
<h2 id="问题一媒体库无图片显示">问题一：媒体库无图片显示<a aria-hidden="true" class="anchor-heading icon-link" href="#问题一媒体库无图片显示"></a></h2>
<p>当您完成WordPress站点的迁移后，如果发现文章或页面中的图片可以正常加载，但是在媒体库中却看不到这些图片，这通常意味着文件实际存在于服务器上，但是WordPress后台无法读取到它们。</p>
<h3 id="可能的原因">可能的原因<a aria-hidden="true" class="anchor-heading icon-link" href="#可能的原因"></a></h3>
<ul>
<li><strong>权限设置不正确</strong>：确保您的图片文件夹权限允许WordPress访问。</li>
<li><strong>PHP配置限制</strong>：某些服务器出于安全考虑，默认禁用了<code>scandir</code>等函数，这会阻止WordPress扫描并列出目录下的文件。</li>
</ul>
<h2 id="问题二页面模板不可选">问题二：页面模板不可选<a aria-hidden="true" class="anchor-heading icon-link" href="#问题二页面模板不可选"></a></h2>
<p>如果您尝试创建新页面时发现无法选择特定模板，即使是在使用成熟主题的情况下也是如此，那么这也可能是由于同样的PHP配置问题导致的。有时，开发者忘记给自定义模板添加<code>Template Name</code>标签确实会导致此类问题；但对于广泛使用的、经过充分测试的主题来说，这种情况非常罕见。</p>
<h3 id="解决方案">解决方案<a aria-hidden="true" class="anchor-heading icon-link" href="#解决方案"></a></h3>
<p>幸运的是，上述两个问题都可以通过调整服务器上的PHP配置来解决。具体步骤如下：</p>
<ol>
<li>登录至您的服务器，找到并编辑<code>php.ini</code>文件。</li>
<li>查找<code>disable_functions</code>参数。该参数用于指定禁止执行的PHP函数列表。</li>
<li>从列表中删除<code>scandir</code>（如果有）以解除对该功能的限制。</li>
<li>保存更改，并重启Web服务使配置生效。</li>
</ol>
<blockquote>
<p>[!注意]
修改<code>php.ini</code>前，请确保备份原始文件。此外，对于非技术用户而言，建议联系您的主机提供商寻求帮助，因为他们能够更专业地处理此类修改。</p>
</blockquote>
<h2 id="结语">结语<a aria-hidden="true" class="anchor-heading icon-link" href="#结语"></a></h2>
<p>通过以上步骤，您可以解决因<code>scandir</code>被禁用而导致的媒体库图片缺失和页面模板选择受限的问题。记得定期检查您的网站功能是否正常运作，特别是在进行任何重大更新或迁移操作之后。希望本指南对您有所帮助！</p>
<hr>
<h2 id="tags">Tags<a aria-hidden="true" class="anchor-heading icon-link" href="#tags"></a></h2>
<ol>
<li><a title="Private" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank" class="private">wordpress (Private)</a></li>
<li><a title="Private" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank" class="private">php (Private)</a></li>
<li><a class="color-tag" style="--tag-color: #fdc1c5;" href="/notes/x6h3yqz3zv0nmgq9dw0olq1">开发</a></li>
<li><a title="Private" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank" class="private">建站 (Private)</a></li>
</ol>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/">伟's 博客首页</a></li>
</ul>