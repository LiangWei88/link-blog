---
id: 2obij3czw1d1v00gn5snylt
title: WordPress 迁移后遇到的问题及解决方案
desc: 探索WordPress网站迁移后常见问题的原因与解决方案，包括媒体库图片不显示和页面模板不可选的问题，并提供调整PHP配置的详细步骤。
updated: 1727338072277
created: 1508880800657
tags:
  - wordpress
  - php
  - 开发
  - 建站
---
## 概述
在将WordPress网站迁移到新的服务器之后，您可能会遇到一些问题，比如后台媒体库中没有显示已上传的图片，以及无法选择页面模板。这些问题虽然表现形式不同，但可能源自同一个根本原因。本文将探讨这一问题，并提供一个有效的解决方法。

## 问题一：媒体库无图片显示
当您完成WordPress站点的迁移后，如果发现文章或页面中的图片可以正常加载，但是在媒体库中却看不到这些图片，这通常意味着文件实际存在于服务器上，但是WordPress后台无法读取到它们。

### 可能的原因
- **权限设置不正确**：确保您的图片文件夹权限允许WordPress访问。
- **PHP配置限制**：某些服务器出于安全考虑，默认禁用了`scandir`等函数，这会阻止WordPress扫描并列出目录下的文件。

## 问题二：页面模板不可选
如果您尝试创建新页面时发现无法选择特定模板，即使是在使用成熟主题的情况下也是如此，那么这也可能是由于同样的PHP配置问题导致的。有时，开发者忘记给自定义模板添加`Template Name`标签确实会导致此类问题；但对于广泛使用的、经过充分测试的主题来说，这种情况非常罕见。

### 解决方案
幸运的是，上述两个问题都可以通过调整服务器上的PHP配置来解决。具体步骤如下：

1. 登录至您的服务器，找到并编辑`php.ini`文件。
2. 查找`disable_functions`参数。该参数用于指定禁止执行的PHP函数列表。
3. 从列表中删除`scandir`（如果有）以解除对该功能的限制。
4. 保存更改，并重启Web服务使配置生效。

> [!注意]
> 修改`php.ini`前，请确保备份原始文件。此外，对于非技术用户而言，建议联系您的主机提供商寻求帮助，因为他们能够更专业地处理此类修改。

## 结语
通过以上步骤，您可以解决因`scandir`被禁用而导致的媒体库图片缺失和页面模板选择受限的问题。记得定期检查您的网站功能是否正常运作，特别是在进行任何重大更新或迁移操作之后。希望本指南对您有所帮助！
